import im from "immutable";
import { Canvas, Context as MutableContext, InputMeta } from "../shapes/Samplers";
import { A, C } from "../types/ast";
import { Env } from "../types/domain";
import { LayerCycleWarning, MultipleLayoutError, ParseError, PenroseError, StyleError, StyleWarning } from "../types/errors";
import { Fn, OptPipeline, StagedConstraints, State } from "../types/state";
import { List, RelationPattern, StyProg } from "../types/style";
import { Assignment, DepGraph, Layer, SelEnv, Subst, Translation } from "../types/styleSemantics";
import { SubstanceEnv } from "../types/substance";
import { Result } from "../utils/Error";
export declare function numbered<A>(xs: A[]): [A, number][];
export declare const ppRel: (r: RelationPattern<A>) => string;
export declare const fullSubst: (selEnv: SelEnv, subst: Subst) => boolean;
export declare const uniqueKeysAndVals: (subst: Subst) => boolean;
export declare const substituteRel: (subst: Subst, rel: RelationPattern<A>) => RelationPattern<A>;
export declare const buildAssignment: (varEnv: Env, subEnv: SubstanceEnv, styProg: StyProg<C>) => Assignment;
export declare const gatherDependencies: (assignment: Assignment) => DepGraph;
export declare const translate: (mut: MutableContext, canvas: Canvas, stages: OptPipeline, graph: DepGraph, warnings: im.List<StyleWarning>) => Translation;
export declare const computeShapeOrdering: (allGPINames: string[], partialOrderings: Layer[]) => {
    shapeOrdering: string[];
    warning?: LayerCycleWarning;
};
export declare const getCanvasDim: (attr: "width" | "height", graph: DepGraph) => Result<number, StyleError>;
export declare const parseStyle: (p: string) => Result<StyProg<C>, ParseError>;
export declare const getLayoutStages: (prog: StyProg<C>) => Result<OptPipeline, MultipleLayoutError>;
export declare const stageConstraints: (inputs: InputMeta[], constrFns: Fn[], objFns: Fn[], stages: OptPipeline) => StagedConstraints;
export declare const compileStyleHelper: (variation: string, stySource: string, subEnv: SubstanceEnv, varEnv: Env) => Promise<Result<{
    state: State;
    translation: Translation;
    assignment: Assignment;
    styleAST: StyProg<C>;
    graph: DepGraph;
}, PenroseError>>;
export declare const compileStyle: (variation: string, stySource: string, subEnv: SubstanceEnv, varEnv: Env) => Promise<Result<State, PenroseError>>;
//# sourceMappingURL=Style.d.ts.map